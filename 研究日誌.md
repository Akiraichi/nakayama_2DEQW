### シミュレーション内容-7月14日〜7月15日
位相と量子ウォークの振る舞いについて調べてみた。
$e^{i\frac{\pi}{4} n}$の形において、$n=1,2,...,20$でシミュレーションする。

##### 結果
- 自明ではあるが、$\theta$ と $\theta + 2\pi$ はプロット結果が完全に一致した
- 計算したら証明できるだろうが、$\theta$ と$-\theta$はプロット結果が完全に一致した
- 全ての位相でx軸方向へ局在が起こるわけではない。例えば、$\theta = \frac{\pi}{2}では十字の形をしている。

##### 考察
- $e^{i\theta x}$と$e^{-i\theta x}$は実数成分は等しく、虚数成分の正負のみ異なる。確率計算時に2乗するから、虚数成分は＋でもーでも確率は同じなのだろう。
- $\theta=0$〜$\pi$を調べれば十分だ

### シミュレーション内容-7月15日
より詳しく位相と量子ウォークの振る舞いについて調べてみた。
$e^{i\frac{\pi}{60} n}$の形において、$n=1,2,...,120$でシミュレーションした。

##### 結果
- 色々わかったが、粒度をさらに細かくして調べる必要がある。
- 整数的な位相の時ほど結果がわかりやすい。
- ピークの本数と関係があるのでは？
- Goodle Driveの書き込み制限に引っかかったため、全てのシミュレーションを中断し明日実行する。


### シミュレーション内容-7月16日
より詳しく位相と量子ウォークの振る舞いについて調べてみた。
$e^{i\frac{\pi}{n}}$の形において、$n=1,2,...,80$でシミュレーションした。
（20パターンで7時間くらいかかるため、4つのインスタンスを使って並列実行させる）

##### 結果
- コードにミスが見つかったため、再実行する。（昨日のシミュレーションを続きから実行させた分においては、影響がない。）
（原因はGoogle Driveへ最新のコードをアップロードするのを忘れたためだ。）
- その後、再実行したものの、再びミスがあったため中止。（原因は、colabではimportしたファイルをキャッシュするため、ファイル更新を反映させるためにはランタイムを再起動する必要があるが、再起動していなかったためだ。）
- その後、再度実行するために、Google Driveで失敗したファイルを削除しようとするもうまくいかない

##### 改善策
- 手動アップロードをやめる：githubとgoogle driveを連携させ、最新のコードをプルするコードを書いた
- ローカル環境で実行中かGoogle Colab環境で実行中かを判断してconfig設定を分岐させることで、ローカル環境での設定で不用意にシミュレーションしないようにする
- ついでに、google colanに書いてあったmain処理のコードをmain_qw2dとしてファイル保存することで、より人為的なミスを減らす。
- Google Driveで巨大なフォルダを削除しようとするとうまくいかない。しかし、フォルダの移動は問題なく行えるため、フォルダを移動させてからゆっくり削除することにする。
- Colabは長時間使っていると、ランタイムを再起動しても再起動できない時があるので、そういう時はセッションを完全に切るとうまくいく


### シミュレーション内容-7月17日
より詳しく位相と量子ウォークの振る舞いについて調べてみた。
$e^{i\frac{\pi}{n}}$の形において、$n=1,2,...,80$でシミュレーションした。

##### 結果
- $theta=\frac{\pi}{12}$以降は主にピークの立っている箇所が3箇所の場合が多い？
- 300の約数の部分のプロット結果がかなり綺麗だったので、追加実験をしようと思う。
- 複数のインスタンスで実行する際は、シミュレーションが全て終わってからplotに移る
- google Driveの制限に引っかかった
- そろそろ論文を読んでより複雑な実験に移ってもいいかもしれない


### シミュレーション内容-7月18日
幅広く浅くシミュレーションを行なった。

##### 結果
- $\theta$の値が小さい時と大きな時で結果が大きく異なる
- 一様電場ではなく、時間変化する電場をかけると$\theta$ と $\theta + 2\pi$ でプロット結果が異なった。なぜだろう？詳しく調べてみる。


### シミュレーション内容-7月19日
- jitコンパイルすると、無限大の値でエラーが出ずに無限大に近い値で計算されることがわかった。余計な問題を引き起こしかねないので、そもそも無限大の値が出るような計算方法をやめる。
- また、jitオブジェクトとして分離していた一部の処理を分離しないようにすることにする。上記の変更とあわせて、これまでのシミュレーションと結果に差異がないことを確認した。（そもそも無限大のあたいが出るような計算結果が出る処理は今までにされていない。2点目の変更はそもそもシミュレーション結果に差が出ない。よってシミュレーション結果に差異が出るはずがない。けど一応確認した）
- シミュレーションをcolabで実行するときは日付をコメントで加えよう。実行済み、未実行、停止（中止）などステータスを明示的に示そう。数が増えてきて把握できなくなってきた。
- よりシミュレーションをする際の人為的なエラーを減らしたい。いいアイディアが欲しいところだ。
- シミュレーションがよく止まる。google driveの制限によって。保存データが1日1TBの制限にひっかかっていると思っていたが、保存ファイル数の制限に引っかかっている気がしてきた。今日新しく、[transport-endpoint-is-not-connected](https://stackoverflow.com/questions/49588113/google-colab-script-throws-transport-endpoint-is-not-connected)というエラーにあった。定期的にセッションの再起動、出荷時設定に戻すなどの処置をする必要がありそうだ。

### 7月20日
やることリスト
- [x] シミュレーション3のプロット
- [x] ダウンロード
- [ ] 考察
- [x] ヒートマッププログラムの作成
- [x] デバッグ
- [x] 検証
- [x] シミュレーションの続きをやる
- [ ] colabで検証

- [x] plot_phase関数をより綺麗なコードに書き換える
- [x] gif処理を行う関数に機能を追加

### 7月21日
やることリスト（上から順に実行すれば良い）
- [x] シミュレーショん3の続き（160~240）：7時間
- [x] 終わったらプロット（phase系）を実行。空いたセッションでexp5010のヒートマップの作成がうまくいっていない問題を解決しヒートマップを作成。空いているセッションで、シミュレーション4の全てでヒートマップを作成。シミュレーション2の全てでヒートマップを作成。シミュレーション5の全てでヒートマップを作成。：1時間
- [x] 作成完了するまで待つ
- [x] ダウンロードする。

- [x] exp3010の過去データと比較する。
- [x] また、exp3030の過去のデータのgifをダウンロードし、現在のデータと比較する。（シミュレーションが正確かのチェック。）
- [x] シミュレーションの正確性が保証できたらexp3030,exp3031の過去のデータは削除する。（フォルダ構造的に使いにくい）
- [x] また、exp3010とシミュレーション3とを比較し、exp3010が正しくシミュレーションできているかを確認する。

過去のシミュレーションと比較し、一致したので、シミュレーションに問題はないことが確認できた。色々機能を改善したり変更したりしたので変なバグとか入ってないかを一応確認した形。全部確認したので、古い方は消去した。


### 7月22日
やることリスト（上から順に実行すれば良い）
- [x] エラーの起こりにくい、デバッグのしやすい、完全にデータとそれ以外が独立したシミュレーションプログラムへ再構築する。
- [x] シミュレーション：データにそのデータが何を意味しているのか分かるような情報を含む
- [x] プロット：データ自体が含んだ情報からプロットする際の情報を適用する
- [x] 全体を通して、保存場所やフォルダ名、ファイル名が変化しても問題ないようにする。
- [x] 何か普通ではない事象がある時はそれを伝えるように出力も調整する。
- [x] デバッグ、検証してバグを改善する

- [ ] シミュレーション3の続きを行う。60回分
- [ ] シミュレーション1、2、4、5を再度考察する。考えの修正含め、気づいた内容について書く。ヒートマップの色はプロットごとに異なることに注意。：1時間30分
- [ ] シミュレーショん3を考察する。気づいた内容について書く。：1時間30分

- [x] 作成完了するまで待つ
- [x] ダウンロードする。
- [ ] レポートをまとめ、実験結果へのリンクをシミュレーション結果フォルダに保存し、立川先生への報告を準備する。実験結果は全てリンクにする。readmeに貼るなどする。：1時間30分
- [ ] 立川先生へ報告する

- [ ] 考察過程で欲しいと思ったデータ、おそらく発展過程のヒートマップなどを作成する。：1時間
- [ ] 実験番号。3桁の番号で十分かも。その後のいろんなやつは不要と思った。
- [ ] 